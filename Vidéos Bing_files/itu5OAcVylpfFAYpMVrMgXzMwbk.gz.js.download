var __spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},VideoCanvasForEmbeddedTikTokPlayer;(function(n){function e(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];"object"===b&&"object"===f}function s(n){var s,t;if(e("player init"),y(),n&&n.length>1&&n[1]){if(t=n[1],t.playerKey&&t.playerKey==l){v();e("init on same video - skip");return}l=t.playerKey;o=t.videoDuration>0?t.videoDuration:-1;u=(s=t.parent)!==null&&s!==void 0?s:_d;r&&typeof r.gfbt==f&&u&&(i=r.gfbt("iframe",u))}v()}function a(){y();sj_ue(_w,"unload",a)}function v(){sj_be(_w,"unload",a);sj_be(_w,h,p)}function y(){sj_ue(_w,h,p)}function p(n){if(n&&n.data&&n.data[c]===!0){var t=n.data,o=t.type;switch(o){case"onStateChange":k(t.value);break;case"onPlayerReady":d();!i&&r&&typeof r.gfbt==f&&u&&(i=r.gfbt("iframe",u));g("play");e("player ready")}}}function k(n){switch(n){case 0:sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_VideoEnded);break;case 1:sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_VideoPlaying);break;case 2:sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_VideoStopped)}e("player state change",n)}function d(){var n={videoDuration:o};sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_VideoPlayerReady,n)}function g(n,t){var r,u,e;(t===void 0&&(t=null),i)&&(e=(r={},r[c]=!0,r.type=n,r),t&&(e[t]=t),typeof((u=i===null||i===void 0?void 0:i.contentWindow)===null||u===void 0?void 0:u.postMessage)==f&&i.contentWindow.postMessage(e,"*"))}var t=typeof SharedEventString!="undefined"?SharedEventString:null,h="message",c="x-tiktok-player",r=pMMUtils!==null&&pMMUtils!==void 0?pMMUtils:null,l="",i,u,o=-1,w="VideoCanvas.TTPlayer",f="function",b="object";n.init=s;t&&(sj_evt.bind(t.EmbedPlayer_ComponentMount,s,!0),sj_evt.bind(t.EmbedPlayer_ComponentUpdate,s,!0))})(VideoCanvasForEmbeddedTikTokPlayer||(VideoCanvasForEmbeddedTikTokPlayer={}))